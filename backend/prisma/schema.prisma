generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"  // Change this if you're using another database
  url      = env("DATABASE_URL")
}

model Dustbins {
  id             Int      @id @default(autoincrement())
  location       String
  longitude      Float
  latitude       Float
  bioFillLevel   Int      @default(1) // Fill level (1 to 10)
  nonBioFillLevel Int     @default(1) // Fill level (1 to 10)
  totalWaste     Int      @default(0) // Cumulative total waste in kg or another unit
  lastEmptiedAt  DateTime // Last time the bin was emptied
  installedAt    DateTime // Installation date
  emptyCount     Int      @default(0) // Tracks how many times the bin has been emptied
  description    String   @default("house 1")
  
  scheduledPickupDate DateTime @default(dbgenerated("(NOW() + INTERVAL '2 days')"))
  pickupStatus       Int      @default(0) // 0 = No Request, 1 = Requested, 2 = Approved
}


model Trucks {
  id               Int       @id @default(autoincrement())
  truck_id         Int
  truck_number     String
  route_geometry   Json      // Stores GeoJSON LineString with route coordinates
  current_location Json      // Stores GeoJSON Point with current location
  status           String    // e.g., "in transit", "idle", etc.
  assigned_colony  String
  route_distance   Float     // Distance of the assigned route in km or another unit
  route_duration   Int       // Duration in seconds
  dustbin_ids      Json      // Stores the list of dustbin IDs (e.g., [1, 2, 3, 4])
}


model RecyclingCenters {
  id         Int      @id @default(autoincrement())
  location   String   // Geographical location or city
  address    String   // Full address of the center
  phone      String   // Contact phone number
  open_time  String   // Opening time (e.g., "08:00 AM")
  close_time String   // Closing time (e.g., "06:00 PM")
}